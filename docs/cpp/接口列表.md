# 接口列表<a name="ZH-CN_TOPIC_0000002374250068"></a>

-   LLM-DataDist：大模型分布式集群和数据加速组件，提供了集群KV数据管理能力，以支持全量图和增量图分离部署。
    -   LLM-DataDist相关接口存放在："$\{INSTALL\_DIR\}/include/llm\_datadist/llm\_datadist.h"。$\{INSTALL\_DIR\}请替换为CANN软件安装后文件存储路径。若安装的Ascend-cann-toolkit软件包，以root安装举例，则安装后文件存储路径为：/usr/local/Ascend/ascend-toolkit/latest。
    -   LLM-DataDist接口对应的库文件是：libllm\_datadist.so。

-   ADXL：Ascend Device Transfer Library，提供高性能、零拷贝的点对点数据传输的能力，并通过简易API开放给用户。
    -   ADXL相关接口存放在："$\{INSTALL\_DIR\}/include/adxl/adxl\_engine.h"。$\{INSTALL\_DIR\}请替换为CANN软件安装后文件存储路径。若安装的Ascend-cann-toolkit软件包，以root安装举例，则安装后文件存储路径为：/usr/local/Ascend/ascend-toolkit/latest。
    -   ADXL接口对应的库文件是：libllm\_datadist.so。

支持的产品形态如下：

-   Atlas 800I A2 推理产品/A200I A2 Box 异构组件
-   Atlas A3 训练系列产品/Atlas A3 推理系列产品，该场景下采用HCCS传输协议时，不支持Host内存作为远端Cache。

接口列表如下。

## LLM-DataDist<a name="section1983152244318"></a>

**表 1**  LLM-DataDist接口\_V2

<a name="table52841713164813"></a>
<table><thead align="left"><tr id="row1728513134484"><th class="cellrowborder" valign="top" width="37.56%" id="mcps1.2.3.1.1"><p id="p228561310481"><a name="p228561310481"></a><a name="p228561310481"></a>接口名称</p>
</th>
<th class="cellrowborder" valign="top" width="62.44%" id="mcps1.2.3.1.2"><p id="p1428514137484"><a name="p1428514137484"></a><a name="p1428514137484"></a>简介</p>
</th>
</tr>
</thead>
<tbody><tr id="row142855132487"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p16149739131210"><a name="p16149739131210"></a><a name="p16149739131210"></a><a href="LlmDataDist构造函数.md">LlmDataDist构造函数</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"><a name="zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a><a name="zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a>构造LLM-DataDist。</p>
</td>
</tr>
<tr id="row1893115411539"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p17931241115316"><a name="p17931241115316"></a><a name="p17931241115316"></a><a href="LlmDataDist().md">~LlmDataDist()</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p189315416536"><a name="p189315416536"></a><a name="p189315416536"></a>LLM-DataDist对象析构函数。</p>
</td>
</tr>
<tr id="row15244124619485"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p16148123971210"><a name="p16148123971210"></a><a name="p16148123971210"></a><a href="Initialize(LlmDataDist).md">Initialize(LlmDataDist)</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p14609010148"><a name="p14609010148"></a><a name="p14609010148"></a>初始化LLM-DataDist。</p>
</td>
</tr>
<tr id="row552416440482"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p8708193711219"><a name="p8708193711219"></a><a name="p8708193711219"></a><a href="Finalize(LlmDataDist).md">Finalize(LlmDataDist)</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p638310518145"><a name="p638310518145"></a><a name="p638310518145"></a>释放LLM-DataDist。</p>
</td>
</tr>
<tr id="row189281911134910"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p870510375121"><a name="p870510375121"></a><a name="p870510375121"></a><a href="SetRole.md">SetRole</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001893731858_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"><a name="zh-cn_topic_0000001893731858_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a><a name="zh-cn_topic_0000001893731858_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a>设置当前LLM-DataDist的角色。</p>
</td>
</tr>
<tr id="row175770137493"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p87031837151211"><a name="p87031837151211"></a><a name="p87031837151211"></a><a href="LinkLlmClusters.md">LinkLlmClusters</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001893731798_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"><a name="zh-cn_topic_0000001893731798_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a><a name="zh-cn_topic_0000001893731798_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a>建链。</p>
</td>
</tr>
<tr id="row4210134064817"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p1970215378129"><a name="p1970215378129"></a><a name="p1970215378129"></a><a href="UnlinkLlmClusters.md">UnlinkLlmClusters</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001935851421_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"><a name="zh-cn_topic_0000001935851421_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a><a name="zh-cn_topic_0000001935851421_zh-cn_topic_0000001481404214_zh-cn_topic_0000001488949573_zh-cn_topic_0000001357384997_zh-cn_topic_0000001312399929_p45666040"></a>断链。</p>
</td>
</tr>
<tr id="row01701344112715"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p18170844112715"><a name="p18170844112715"></a><a name="p18170844112715"></a><a href="PullKvCache.md">PullKvCache</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p392581814428"><a name="p392581814428"></a><a name="p392581814428"></a>以连续内存方式拉取KV Cache。</p>
</td>
</tr>
<tr id="row92684814274"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p32614818278"><a name="p32614818278"></a><a name="p32614818278"></a><a href="PullKvBlocks.md">PullKvBlocks</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p592481874214"><a name="p592481874214"></a><a name="p592481874214"></a>以block列表的方式拉取KV Cache。</p>
</td>
</tr>
<tr id="row16272105314207"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p02729536206"><a name="p02729536206"></a><a name="p02729536206"></a><a href="PushKvCache.md">PushKvCache</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p13368186151011"><a name="p13368186151011"></a><a name="p13368186151011"></a>推送Cache到远端节点。</p>
</td>
</tr>
<tr id="row11011553203"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p7101155582011"><a name="p7101155582011"></a><a name="p7101155582011"></a><a href="PushKvBlocks.md">PushKvBlocks</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p1930718302408"><a name="p1930718302408"></a><a name="p1930718302408"></a>通过block列表的方式，推送Cache到远端节点。</p>
</td>
</tr>
<tr id="row182711831135412"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p102711931135413"><a name="p102711931135413"></a><a name="p102711931135413"></a><a href="RegisterKvCache.md">RegisterKvCache</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p162255155515"><a name="p162255155515"></a><a name="p162255155515"></a>注册本地KV Cache内存。</p>
</td>
</tr>
<tr id="row59611628105411"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p1696132813547"><a name="p1696132813547"></a><a name="p1696132813547"></a><a href="UnregisterKvCache.md">UnregisterKvCache</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p1896172810541"><a name="p1896172810541"></a><a name="p1896172810541"></a>解除注册本地KV Cache内存。</p>
</td>
</tr>
</tbody>
</table>

## ADXL<a name="section4246151514502"></a>

**表 2**  ADXL接口

<a name="table9246111519502"></a>
<table><thead align="left"><tr id="row6246111515011"><th class="cellrowborder" valign="top" width="37.56%" id="mcps1.2.3.1.1"><p id="p12246161516505"><a name="p12246161516505"></a><a name="p12246161516505"></a>接口名称</p>
</th>
<th class="cellrowborder" valign="top" width="62.44%" id="mcps1.2.3.1.2"><p id="p17246015155013"><a name="p17246015155013"></a><a name="p17246015155013"></a>简介</p>
</th>
</tr>
</thead>
<tbody><tr id="row162461815105017"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p483243414504"><a name="p483243414504"></a><a name="p483243414504"></a><a href="AdxlEngine构造函数.md">AdxlEngine构造函数</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p1673195111311"><a name="p1673195111311"></a><a name="p1673195111311"></a>创建AdxlEngine对象。</p>
</td>
</tr>
<tr id="row7246151517502"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p14831034185011"><a name="p14831034185011"></a><a name="p14831034185011"></a><a href="AdxlEngine().md">~AdxlEngine()</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p10520112565314"><a name="p10520112565314"></a><a name="p10520112565314"></a>AdxlEngine对象析构函数。</p>
</td>
</tr>
<tr id="row1246161595016"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p19830134105018"><a name="p19830134105018"></a><a name="p19830134105018"></a><a href="Initialize(adxl).md">Initialize(adxl)</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p618553414511"><a name="p618553414511"></a><a name="p618553414511"></a>初始化AdxlEngine，在调用其他接口前需要先调用该接口。</p>
</td>
</tr>
<tr id="row11247101512507"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p178296343503"><a name="p178296343503"></a><a name="p178296343503"></a><a href="Finalize(adxl).md">Finalize(adxl)</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p7444038115314"><a name="p7444038115314"></a><a name="p7444038115314"></a>AdxlEngine资源清理函数。</p>
</td>
</tr>
<tr id="row14247171515505"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p782820342507"><a name="p782820342507"></a><a name="p782820342507"></a><a href="RegisterMem.md">RegisterMem</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p825143955410"><a name="p825143955410"></a><a name="p825143955410"></a>注册内存地址。用于<a href="TransferSync.md">TransferSync</a>调用指定本地内存地址和远端内存地址，<a href="TransferSync.md">TransferSync</a>指定的地址可以为注册的地址的子集，其中本地内存地址需在当前AdxlEngine进行注册，远端内存地址需要在远端AdxlEngine进行注册。</p>
</td>
</tr>
<tr id="row3247121585011"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p5827173465010"><a name="p5827173465010"></a><a name="p5827173465010"></a><a href="DeregisterMem.md">DeregisterMem</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p14907215716"><a name="p14907215716"></a><a name="p14907215716"></a>解注册内存。</p>
</td>
</tr>
<tr id="row1624711517506"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p482613344505"><a name="p482613344505"></a><a name="p482613344505"></a><a href="Connect.md">Connect</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p87225335413"><a name="p87225335413"></a><a name="p87225335413"></a>与远端AdxlEngine进行建链。</p>
</td>
</tr>
<tr id="row13247915145012"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p168251334185012"><a name="p168251334185012"></a><a name="p168251334185012"></a><a href="Disconnect.md">Disconnect</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p1491315845416"><a name="p1491315845416"></a><a name="p1491315845416"></a>与远端AdxlEngine进行断链。</p>
</td>
</tr>
<tr id="row42471715135011"><td class="cellrowborder" valign="top" width="37.56%" headers="mcps1.2.3.1.1 "><p id="p88249341505"><a name="p88249341505"></a><a name="p88249341505"></a><a href="TransferSync.md">TransferSync</a></p>
</td>
<td class="cellrowborder" valign="top" width="62.44%" headers="mcps1.2.3.1.2 "><p id="p76926115510"><a name="p76926115510"></a><a name="p76926115510"></a>与远端AdxlEngine进行内存传输。</p>
</td>
</tr>
</tbody>
</table>

